<% 
  future = home.travel_future(direction)
  past = home.travel_past(direction)
  sky = weave.newer_metatags.first
  water = weave.older_metatags.first
%> 
<div id="compass">
  <%= compass_button( (sky) ? sky.older.first : nil, weave, home, "blue" ) %>
  <%= compass_button( sky,  weave, home, "blue" ) %>
  <%= compass_button( (sky) ? sky.newer.first : nil, weave, home, "blue" ) %>

  <%= compass_button( past,   weave, home, "red" ) %>
  <%= compass_button( weave,  weave, home, "red current" ) %>
  <%= compass_button( future, weave, home, "red" ) %>
  
  <%= compass_button( (water) ? water.older.first : nil,  weave, home, "green" ) %>
  <%= compass_button( water,  weave, home, "green" ) %>
  <%= compass_button( (water) ? water.newer.first : nil,  weave, home, "green" ) %>
</div>
<script>
  $(".button:not(.hidden)").tooltip({ 
    showURL: false,
    extraClass: "preview",
    fixPNG: true,
    showBody: "", 
    delay: 400,
    track: true,
    bodyHandler: function() {
      var result = $("<div/>");
      $.get( $(this).attr("data-preview_url"), {}, function(data) { result.html(data); }, "html");
      return result;
    } 
  });
</script>
